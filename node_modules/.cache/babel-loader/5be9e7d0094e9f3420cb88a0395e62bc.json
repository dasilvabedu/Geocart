{"ast":null,"code":"import _defineProperty from\"C:\\\\Users\\\\BENEDICTO EDUARDO\\\\PycharmProjects\\\\geo\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";import _objectSpread from\"C:\\\\Users\\\\BENEDICTO EDUARDO\\\\PycharmProjects\\\\geo\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"C:\\\\Users\\\\BENEDICTO EDUARDO\\\\PycharmProjects\\\\geo\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import React,{useEffect}from'react';import CircularProgress from'@material-ui/core/CircularProgress';import FormControl from'@material-ui/core/FormControl';import Grid from'@material-ui/core/Grid';import LinearProgress from'@material-ui/core/LinearProgress';import NativeSelect from'@material-ui/core/NativeSelect';import Paper from'@material-ui/core/Paper';import{makeStyles}from'@material-ui/core/styles';import Typography from'@material-ui/core/Typography';import{connect}from'react-redux';import CustomDialog from'../../../components/Dialog';import Map from'../../../components/Map';import CustomTable from'../../../components/Table';import Toast from'../../../components/Toast';import{loadMetadadosTotal,loadDadoPorExtenso,setMessage,updateMetadado}from'../../../services/metadados';import{getMetadadosTotalLoading,getAllMetadadosTotal,getMetadadoSelectedLoading,getAllMetadadoSelectedCabecalho,getAllMetadadoSelectedCampos,getAllMetadadoSelectedDados,getAllMetadadoSelectedTabela,getAllMetadadoSelectedMessage,getAllMetadadoSelectedEditaveis}from'../../../store/selectors/metadados';var useStyles=makeStyles(function(theme){return{root:{flexGrow:1,marginTop:'16px'},paper:{padding:theme.spacing(2),height:520,overflow:'auto',margin:'8px',borderTop:'2px solid #318EDA'},image:{width:128,height:128},img:{margin:'auto',display:'block',maxWidth:'100%',maxHeight:'100%'},formControl:{margin:theme.spacing(1),minWidth:120},selectEmpty:{marginTop:theme.spacing(2)},header:{alignItems:'center',background:'#1E74BB',color:'white',paddingLeft:'8px',margin:'-16px',lineHeight:'1.5'}};});var Metadados=function Metadados(_ref){var metadados=_ref.metadados,metadadoSelectedCabecalho=_ref.metadadoSelectedCabecalho,metadadoSelectedCampos=_ref.metadadoSelectedCampos,metadadoSelectedDados=_ref.metadadoSelectedDados,metadadoSelectedTabela=_ref.metadadoSelectedTabela,metadadoSelectedMessage=_ref.metadadoSelectedMessage,metadadoSelectedEditaveis=_ref.metadadoSelectedEditaveis,onUpdatePressed=_ref.onUpdatePressed,onTabelaSelected=_ref.onTabelaSelected,onSetMessagePressed=_ref.onSetMessagePressed,isLoading=_ref.isLoading,isLoadingMetadadoSelected=_ref.isLoadingMetadadoSelected,startLoadingMetadados=_ref.startLoadingMetadados;useEffect(function(){startLoadingMetadados();},[startLoadingMetadados]);var classes=useStyles();var tabelaSelecionada=metadados.find(function(metadado){return metadado.mtt_tabela===metadadoSelectedTabela;});var _React$useState=React.useState({name:tabelaSelecionada?tabelaSelecionada.mtt_tabela:'',mtt_descricao:tabelaSelecionada?tabelaSelecionada.mtt_descricao:'',mtt_tabela:tabelaSelecionada?tabelaSelecionada.mtt_tabela:'',mensagem:{open:false,texto:'',tipo:'success',data:null,campos:[],labelButton:null,dialogTitle:null,message:null,action:null,openToast:false,tipoToast:'success',textoToast:null,editData:false}}),_React$useState2=_slicedToArray(_React$useState,2),state=_React$useState2[0],setState=_React$useState2[1];var handleChange=function handleChange(event){var _objectSpread2;var _event$target=event.target,name=_event$target.name,value=_event$target.value;onTabelaSelected(value);setState(_objectSpread(_objectSpread({},state),{},(_objectSpread2={},_defineProperty(_objectSpread2,name,value),_defineProperty(_objectSpread2,\"mtt_tabela\",value),_objectSpread2)));};var info=function info(dado,fields){var mensagem={open:true,//texto: `Consultar/Update ${dado.id}`,\ntipo:'success',data:dado,campos:fields,editData:false};setState(_objectSpread(_objectSpread({},state),{},{mensagem:mensagem}));};var update=function update(dado,fields){var mensagem={open:true,//texto: `Consultar/Update ${dado.id}`,\ntipo:'success',labelButton:'Atualizar',dialogTitle:'Atualizar atributo',data:dado,campos:fields,editData:true,action:function action(id,dadoAlteracao){setState(_objectSpread(_objectSpread({},state),{},{mensagem:{openToast:false,open:false}}));var dataToUpdate=_objectSpread(_objectSpread({},dadoAlteracao),{},{// tabela: state.mtt_tabela,\ntabela:'mta_metadadoatributo',mta_identificador:id});onSetMessagePressed({open:false,text:null,tipo:'success',loading:true});onUpdatePressed(id,dataToUpdate);}};setState(_objectSpread(_objectSpread({},state),{},{mensagem:mensagem}));};String.prototype.replaceAll=function(find,replace){var str=this;return str.replace(new RegExp(find.replace(/[-/\\\\^$*+?.()|[\\]{}]/g,'\\\\$&'),'g'),replace);};var createPropertyObject=function createPropertyObject(currElement,entryPreference){return Object.entries(currElement).map(function(_ref2){var _ref3=_slicedToArray(_ref2,2),key=_ref3[0],values=_ref3[1];return entryPreference==='key'?{titulo:\"\".concat(key.split(' - ')[1]),dado:\"\".concat(key)}:_defineProperty({},key,\"\".concat(values));});};function onGeneratedData(elementsParse){var jsonData={};var tempData=[];for(var _i=0,_Object$entries=Object.entries(elementsParse);_i<_Object$entries.length;_i++){var _Object$entries$_i=_slicedToArray(_Object$entries[_i],2),value=_Object$entries$_i[1];if(JSON.stringify(value).includes('A - '))jsonData={};for(var _i2=0,_Object$entries2=Object.entries(value);_i2<_Object$entries2.length;_i2++){var _Object$entries2$_i=_slicedToArray(_Object$entries2[_i2],2),keyValue=_Object$entries2$_i[0],valueValue=_Object$entries2$_i[1];jsonData[keyValue]=valueValue;if(keyValue.includes('A - '))tempData.push(jsonData);//console.log(key, value);\n}}//console.log(tempData);\nreturn tempData;}var createKeyAndValueObjects=function createKeyAndValueObjects(){var metadadoMap=arguments.length>0&&arguments[0]!==undefined?arguments[0]:[];var entryPreference=arguments.length>1?arguments[1]:undefined;var elementsKey=[];var elementsParse=null;var elements=metadadoMap.map(function(currElement){return elementsKey=createPropertyObject(currElement,entryPreference);});if(entryPreference!=='key'){var elementsStringify=JSON.stringify(elements).replaceAll('[[[{','[{').replaceAll('}]]]','}]').replaceAll('}]],[[{','},{').replaceAll('[[{','[{').replaceAll('}]]','}]').replaceAll('}],[{','},{');elementsParse=JSON.parse(elementsStringify);elementsParse=onGeneratedData(elementsParse);}else{elementsParse=elementsKey;}return elementsParse;};var customFilterCampos=['Nome Interno do Atributo na Tabela (mta_atributo)','Descrição (mta_descricao)','Tipo da Tabela (mta_tipo)'];var customFilterDados=['B - Nome Interno do Atributo na Tabela (mta_atributo)','D - Descrição (mta_descricao)','E - Tipo da Tabela (mta_tipo)'];var loadingMessage=/*#__PURE__*/React.createElement(CircularProgress,null);var loadingAction=/*#__PURE__*/React.createElement(LinearProgress,null);var metadadosSorted=metadados.slice(0);metadadosSorted.sort(function(a,b){var x=a.mtt_tabela.toLowerCase();var y=b.mtt_tabela.toLowerCase();return x<y?-1:x>y?1:0;});var content=/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(Toast,{open:state.mensagem.openToast||metadadoSelectedMessage.open,handleClose:function handleClose(){setState(_objectSpread(_objectSpread({},state),{},{mensagem:{openToast:false}}));onSetMessagePressed({open:false,text:null,tipo:'success',loading:false});},severity:state.mensagem.openToast?state.mensagem.tipoToast:metadadoSelectedMessage.tipo},state.mensagem.textoToast,metadadoSelectedMessage.text),metadadoSelectedMessage.loading?loadingAction:null,/*#__PURE__*/React.createElement(CustomDialog,{open:state.mensagem.open,mensagem:state.mensagem,data:state.mensagem.data,campos:state.mensagem.campos,labelButton:state.mensagem.labelButton,dialogTitle:state.mensagem.dialogTitle,message:state.mensagem.message,action:state.mensagem.action,classes:classes,editData:state.mensagem.editData,editaveis:metadadoSelectedEditaveis,handleClose:function handleClose(){return setState(_objectSpread(_objectSpread({},state),{},{mensagem:{open:false}}));}}),/*#__PURE__*/React.createElement(\"div\",{className:classes.root},/*#__PURE__*/React.createElement(Grid,{container:true,justify:\"center\",alignItems:\"center\",spacing:1},/*#__PURE__*/React.createElement(Grid,{item:true,xs:6},/*#__PURE__*/React.createElement(Paper,{className:classes.paper},/*#__PURE__*/React.createElement(\"div\",{className:classes.header,style:{marginTop:'-35px'}},/*#__PURE__*/React.createElement(\"h3\",null,\"Objetos\")),/*#__PURE__*/React.createElement(Grid,{container:true,spacing:2},/*#__PURE__*/React.createElement(Grid,{item:true,xs:12,sm:true,container:true},/*#__PURE__*/React.createElement(Grid,{item:true,xs:true},/*#__PURE__*/React.createElement(FormControl,{className:classes.formControl},/*#__PURE__*/React.createElement(NativeSelect,{value:state.mtt_descricao,onChange:handleChange,inputProps:{name:'mtt_descricao',id:'mtt_tabela'}},state.mtt_tabela?/*#__PURE__*/React.createElement(\"option\",{value:state.mtt_tabela},state.mtt_descricao,\" (\",state.mtt_tabela,\")\"):/*#__PURE__*/React.createElement(\"option\",{value:\"\"},\"Selecione\"),metadadosSorted.map(function(metadado,index){return/*#__PURE__*/React.createElement(\"option\",{value:metadado.mtt_tabela,key:index},metadado.mtt_descricao,\" (\",metadado.mtt_tabela,\")\");})))))),/*#__PURE__*/React.createElement(\"div\",{className:classes.header},/*#__PURE__*/React.createElement(\"h3\",null,\"Metadados do Objeto\")),/*#__PURE__*/React.createElement(Grid,{container:true,spacing:2},/*#__PURE__*/React.createElement(Grid,{item:true,xs:12,sm:true,container:true},/*#__PURE__*/React.createElement(Grid,{item:true,xs:true,container:true,direction:\"column\",spacing:2,alignItems:\"center\",justify:\"center\"},/*#__PURE__*/React.createElement(Grid,{item:true,xs:true},isLoadingMetadadoSelected?loadingMessage:Array.isArray(metadadoSelectedCabecalho)&&metadadoSelectedCabecalho.length?metadadoSelectedCabecalho.map(function(currElement){return Object.entries(currElement).map(function(_ref5){var _ref6=_slicedToArray(_ref5,2),key=_ref6[0],val=_ref6[1];return/*#__PURE__*/React.createElement(Typography,{variant:\"body2\",gutterBottom:true,key:key},/*#__PURE__*/React.createElement(\"strong\",null,key.split(' - ')[1],\": \"),val);});}):/*#__PURE__*/React.createElement(\"h2\",{style:{marginTop:'80px'}},' ',/*#__PURE__*/React.createElement(\"strong\",null,\"Bem vindo ao M\\xF3dulo de Espacializa\\xE7\\xE3o\")),isLoadingMetadadoSelected?'':/*#__PURE__*/React.createElement(CustomTable,{dados:createKeyAndValueObjects(metadadoSelectedCampos,'values'),campos:createKeyAndValueObjects(metadadoSelectedCampos,'key'),infoDados:info,updateDados:update,contentMaxHeight:350,customFilterCampos:customFilterCampos,customFilterDados:customFilterDados}))))))),/*#__PURE__*/React.createElement(Grid,{item:true,xs:6},/*#__PURE__*/React.createElement(Paper,{className:classes.paper},/*#__PURE__*/React.createElement(\"div\",{className:classes.header,style:{marginTop:'-35px'}},/*#__PURE__*/React.createElement(\"h3\",null,\"Conte\\xFAdo do Objeto\")),/*#__PURE__*/React.createElement(Grid,{container:true,spacing:2},/*#__PURE__*/React.createElement(Grid,{item:true,xs:12,sm:true,container:true,alignItems:\"center\",justify:\"center\"},isLoadingMetadadoSelected?loadingMessage:Object.values(metadadoSelectedCabecalho)[0]&&Object.values(metadadoSelectedCabecalho)[0]['D - Tipo da Tabela (mtt_tipo)']&&Object.values(metadadoSelectedCabecalho)[0]['D - Tipo da Tabela (mtt_tipo)']==='convencional'?/*#__PURE__*/React.createElement(CustomTable,{dados:createKeyAndValueObjects(metadadoSelectedDados,'values'),campos:createKeyAndValueObjects(metadadoSelectedDados,'key'),infoDados:info/*excluirDados = {dialogRemove}*/}):/*#__PURE__*/React.createElement(Map,{metadado:Object.values(metadadoSelectedCabecalho)[0]}))))))));return isLoading?loadingMessage:content;};var mapStateToProps=function mapStateToProps(state){return{isLoading:getMetadadosTotalLoading(state),metadados:getAllMetadadosTotal(state),isLoadingMetadadoSelected:getMetadadoSelectedLoading(state),metadadoSelectedCabecalho:getAllMetadadoSelectedCabecalho(state),metadadoSelectedCampos:getAllMetadadoSelectedCampos(state),metadadoSelectedDados:getAllMetadadoSelectedDados(state),metadadoSelectedTabela:getAllMetadadoSelectedTabela(state),metadadoSelectedMessage:getAllMetadadoSelectedMessage(state),metadadoSelectedEditaveis:getAllMetadadoSelectedEditaveis(state)};};var mapDispatchToProps=function mapDispatchToProps(dispatch){return{onTabelaSelected:function onTabelaSelected(mttTababela){return dispatch(loadDadoPorExtenso(mttTababela));},onUpdatePressed:function onUpdatePressed(id,json){return dispatch(updateMetadado(id,json));},onSetMessagePressed:function onSetMessagePressed(message){return dispatch(setMessage(message));},startLoadingMetadados:function startLoadingMetadados(){return dispatch(loadMetadadosTotal());}};};export default connect(mapStateToProps,mapDispatchToProps)(Metadados);","map":{"version":3,"sources":["C:/Users/BENEDICTO EDUARDO/PycharmProjects/geo/src/pages/Metadados/Consultar/index.js"],"names":["React","useEffect","CircularProgress","FormControl","Grid","LinearProgress","NativeSelect","Paper","makeStyles","Typography","connect","CustomDialog","Map","CustomTable","Toast","loadMetadadosTotal","loadDadoPorExtenso","setMessage","updateMetadado","getMetadadosTotalLoading","getAllMetadadosTotal","getMetadadoSelectedLoading","getAllMetadadoSelectedCabecalho","getAllMetadadoSelectedCampos","getAllMetadadoSelectedDados","getAllMetadadoSelectedTabela","getAllMetadadoSelectedMessage","getAllMetadadoSelectedEditaveis","useStyles","theme","root","flexGrow","marginTop","paper","padding","spacing","height","overflow","margin","borderTop","image","width","img","display","maxWidth","maxHeight","formControl","minWidth","selectEmpty","header","alignItems","background","color","paddingLeft","lineHeight","Metadados","metadados","metadadoSelectedCabecalho","metadadoSelectedCampos","metadadoSelectedDados","metadadoSelectedTabela","metadadoSelectedMessage","metadadoSelectedEditaveis","onUpdatePressed","onTabelaSelected","onSetMessagePressed","isLoading","isLoadingMetadadoSelected","startLoadingMetadados","classes","tabelaSelecionada","find","metadado","mtt_tabela","useState","name","mtt_descricao","mensagem","open","texto","tipo","data","campos","labelButton","dialogTitle","message","action","openToast","tipoToast","textoToast","editData","state","setState","handleChange","event","target","value","info","dado","fields","update","id","dadoAlteracao","dataToUpdate","tabela","mta_identificador","text","loading","String","prototype","replaceAll","replace","str","RegExp","createPropertyObject","currElement","entryPreference","Object","entries","map","key","values","titulo","split","onGeneratedData","elementsParse","jsonData","tempData","JSON","stringify","includes","keyValue","valueValue","push","createKeyAndValueObjects","metadadoMap","elementsKey","elements","elementsStringify","parse","customFilterCampos","customFilterDados","loadingMessage","loadingAction","metadadosSorted","slice","sort","a","b","x","toLowerCase","y","content","index","Array","isArray","length","val","mapStateToProps","mapDispatchToProps","dispatch","mttTababela","json"],"mappings":"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","sourcesContent":["import React, { useEffect } from 'react'\n\nimport CircularProgress from '@material-ui/core/CircularProgress'\nimport FormControl from '@material-ui/core/FormControl'\nimport Grid from '@material-ui/core/Grid'\nimport LinearProgress from '@material-ui/core/LinearProgress'\nimport NativeSelect from '@material-ui/core/NativeSelect'\nimport Paper from '@material-ui/core/Paper'\nimport { makeStyles } from '@material-ui/core/styles'\nimport Typography from '@material-ui/core/Typography'\nimport { connect } from 'react-redux'\n\nimport CustomDialog from '../../../components/Dialog'\nimport Map from '../../../components/Map'\nimport CustomTable from '../../../components/Table'\nimport Toast from '../../../components/Toast'\nimport {\n  loadMetadadosTotal,\n  loadDadoPorExtenso,\n  setMessage,\n  updateMetadado,\n} from '../../../services/metadados'\nimport {\n  getMetadadosTotalLoading,\n  getAllMetadadosTotal,\n  getMetadadoSelectedLoading,\n  getAllMetadadoSelectedCabecalho,\n  getAllMetadadoSelectedCampos,\n  getAllMetadadoSelectedDados,\n  getAllMetadadoSelectedTabela,\n  getAllMetadadoSelectedMessage,\n  getAllMetadadoSelectedEditaveis,\n} from '../../../store/selectors/metadados'\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    flexGrow: 1,\n    marginTop: '16px',\n  },\n  paper: {\n    padding: theme.spacing(2),\n    height: 520,\n    overflow: 'auto',\n    margin: '8px',\n    borderTop: '2px solid #318EDA',\n  },\n  image: {\n    width: 128,\n    height: 128,\n  },\n  img: {\n    margin: 'auto',\n    display: 'block',\n    maxWidth: '100%',\n    maxHeight: '100%',\n  },\n  formControl: {\n    margin: theme.spacing(1),\n    minWidth: 120,\n  },\n  selectEmpty: {\n    marginTop: theme.spacing(2),\n  },\n  header: {\n    alignItems: 'center',\n    background: '#1E74BB',\n    color: 'white',\n    paddingLeft: '8px',\n    margin: '-16px',\n    lineHeight: '1.5',\n  },\n}))\n\nconst Metadados = ({\n  metadados,\n  metadadoSelectedCabecalho,\n  metadadoSelectedCampos,\n  metadadoSelectedDados,\n  metadadoSelectedTabela,\n  metadadoSelectedMessage,\n  metadadoSelectedEditaveis,\n  onUpdatePressed,\n  onTabelaSelected,\n  onSetMessagePressed,\n  isLoading,\n  isLoadingMetadadoSelected,\n  startLoadingMetadados,\n}) => {\n  useEffect(() => {\n    startLoadingMetadados()\n  }, [startLoadingMetadados])\n\n  const classes = useStyles()\n  const tabelaSelecionada = metadados.find((metadado) => {\n    return metadado.mtt_tabela === metadadoSelectedTabela\n  })\n\n  const [state, setState] = React.useState({\n    name: tabelaSelecionada ? tabelaSelecionada.mtt_tabela : '',\n    mtt_descricao: tabelaSelecionada ? tabelaSelecionada.mtt_descricao : '',\n    mtt_tabela: tabelaSelecionada ? tabelaSelecionada.mtt_tabela : '',\n    mensagem: {\n      open: false,\n      texto: '',\n      tipo: 'success',\n      data: null,\n      campos: [],\n      labelButton: null,\n      dialogTitle: null,\n      message: null,\n      action: null,\n      openToast: false,\n      tipoToast: 'success',\n      textoToast: null,\n      editData: false,\n    },\n  })\n\n  const handleChange = (event) => {\n    const { name, value } = event.target\n    onTabelaSelected(value)\n    setState({\n      ...state,\n      [name]: value,\n      mtt_tabela: value,\n    })\n  }\n\n  const info = (dado, fields) => {\n    const mensagem = {\n      open: true,\n      //texto: `Consultar/Update ${dado.id}`,\n      tipo: 'success',\n      data: dado,\n      campos: fields,\n      editData: false,\n    }\n    setState({ ...state, mensagem })\n  }\n\n  const update = (dado, fields) => {\n    const mensagem = {\n      open: true,\n      //texto: `Consultar/Update ${dado.id}`,\n      tipo: 'success',\n      labelButton: 'Atualizar',\n      dialogTitle: 'Atualizar atributo',\n      data: dado,\n      campos: fields,\n      editData: true,\n      action(id, dadoAlteracao) {\n        setState({ ...state, mensagem: { openToast: false, open: false } })\n        const dataToUpdate = {\n          ...dadoAlteracao,\n          // tabela: state.mtt_tabela,\n          tabela: 'mta_metadadoatributo',\n          mta_identificador: id,\n        }\n        onSetMessagePressed({\n          open: false,\n          text: null,\n          tipo: 'success',\n          loading: true,\n        })\n        onUpdatePressed(id, dataToUpdate)\n      },\n    }\n    setState({ ...state, mensagem })\n  }\n\n  String.prototype.replaceAll = function (find, replace) {\n    const str = this\n    return str.replace(\n      new RegExp(find.replace(/[-/\\\\^$*+?.()|[\\]{}]/g, '\\\\$&'), 'g'),\n      replace\n    )\n  }\n\n  const createPropertyObject = (currElement, entryPreference) => {\n    return Object.entries(currElement).map(([key, values]) => {\n      return entryPreference === 'key'\n        ? {\n            titulo: `${key.split(' - ')[1]}`,\n            dado: `${key}`,\n          }\n        : {\n            [key]: `${values}`,\n          }\n    })\n  }\n\n  function onGeneratedData(elementsParse) {\n    let jsonData = {}\n    const tempData = []\n    for (const [, value] of Object.entries(elementsParse)) {\n      if (JSON.stringify(value).includes('A - ')) jsonData = {}\n      for (const [keyValue, valueValue] of Object.entries(value)) {\n        jsonData[keyValue] = valueValue\n        if (keyValue.includes('A - ')) tempData.push(jsonData)\n        //console.log(key, value);\n      }\n    }\n    //console.log(tempData);\n    return tempData\n  }\n\n  const createKeyAndValueObjects = (metadadoMap = [], entryPreference) => {\n    let elementsKey = []\n    let elementsParse = null\n    const elements = metadadoMap.map((currElement) => {\n      return (elementsKey = createPropertyObject(currElement, entryPreference))\n    })\n\n    if (entryPreference !== 'key') {\n      const elementsStringify = JSON.stringify(elements)\n        .replaceAll('[[[{', '[{')\n        .replaceAll('}]]]', '}]')\n        .replaceAll('}]],[[{', '},{')\n        .replaceAll('[[{', '[{')\n        .replaceAll('}]]', '}]')\n        .replaceAll('}],[{', '},{')\n      elementsParse = JSON.parse(elementsStringify)\n      elementsParse = onGeneratedData(elementsParse)\n    } else {\n      elementsParse = elementsKey\n    }\n\n    return elementsParse\n  }\n\n  const customFilterCampos = [\n    'Nome Interno do Atributo na Tabela (mta_atributo)',\n    'Descrição (mta_descricao)',\n    'Tipo da Tabela (mta_tipo)',\n  ]\n\n  const customFilterDados = [\n    'B - Nome Interno do Atributo na Tabela (mta_atributo)',\n    'D - Descrição (mta_descricao)',\n    'E - Tipo da Tabela (mta_tipo)',\n  ]\n\n  const loadingMessage = <CircularProgress />\n  const loadingAction = <LinearProgress />\n  const metadadosSorted = metadados.slice(0)\n  metadadosSorted.sort(function (a, b) {\n    const x = a.mtt_tabela.toLowerCase()\n    const y = b.mtt_tabela.toLowerCase()\n    return x < y ? -1 : x > y ? 1 : 0\n  })\n\n  const content = (\n    <>\n      <Toast\n        open={state.mensagem.openToast || metadadoSelectedMessage.open}\n        handleClose={() => {\n          setState({ ...state, mensagem: { openToast: false } })\n          onSetMessagePressed({\n            open: false,\n            text: null,\n            tipo: 'success',\n            loading: false,\n          })\n        }}\n        severity={\n          state.mensagem.openToast\n            ? state.mensagem.tipoToast\n            : metadadoSelectedMessage.tipo\n        }\n      >\n        {state.mensagem.textoToast}\n        {metadadoSelectedMessage.text}\n      </Toast>\n\n      {metadadoSelectedMessage.loading ? loadingAction : null}\n\n      <CustomDialog\n        open={state.mensagem.open}\n        mensagem={state.mensagem}\n        data={state.mensagem.data}\n        campos={state.mensagem.campos}\n        labelButton={state.mensagem.labelButton}\n        dialogTitle={state.mensagem.dialogTitle}\n        message={state.mensagem.message}\n        action={state.mensagem.action}\n        classes={classes}\n        editData={state.mensagem.editData}\n        editaveis={metadadoSelectedEditaveis}\n        handleClose={() => setState({ ...state, mensagem: { open: false } })}\n      />\n\n      <div className={classes.root}>\n        <Grid container justify='center' alignItems='center' spacing={1}>\n          <Grid item xs={6}>\n            <Paper className={classes.paper}>\n              <div className={classes.header} style={{ marginTop: '-35px' }}>\n                <h3>Objetos</h3>\n              </div>\n              <Grid container spacing={2}>\n                <Grid item xs={12} sm container>\n                  <Grid item xs>\n                    <FormControl className={classes.formControl}>\n                      <NativeSelect\n                        value={state.mtt_descricao}\n                        onChange={handleChange}\n                        inputProps={{\n                          name: 'mtt_descricao',\n                          id: 'mtt_tabela',\n                        }}\n                      >\n                        {state.mtt_tabela ? (\n                          <option value={state.mtt_tabela}>\n                            {state.mtt_descricao} ({state.mtt_tabela})\n                          </option>\n                        ) : (\n                          <option value=''>Selecione</option>\n                        )}\n\n                        {metadadosSorted.map((metadado, index) => (\n                          <option value={metadado.mtt_tabela} key={index}>\n                            {metadado.mtt_descricao} ({metadado.mtt_tabela})\n                          </option>\n                        ))}\n                      </NativeSelect>\n                    </FormControl>\n                  </Grid>\n                </Grid>\n              </Grid>\n\n              <div className={classes.header}>\n                <h3>Metadados do Objeto</h3>\n              </div>\n              <Grid container spacing={2}>\n                <Grid item xs={12} sm container>\n                  <Grid\n                    item\n                    xs\n                    container\n                    direction='column'\n                    spacing={2}\n                    alignItems='center'\n                    justify='center'\n                  >\n                    <Grid item xs>\n                      {isLoadingMetadadoSelected ? (\n                        loadingMessage\n                      ) : Array.isArray(metadadoSelectedCabecalho) &&\n                        metadadoSelectedCabecalho.length ? (\n                        metadadoSelectedCabecalho.map((currElement) =>\n                          Object.entries(currElement).map(([key, val]) => (\n                            <Typography variant='body2' gutterBottom key={key}>\n                              <strong>{key.split(' - ')[1]}: </strong>\n                              {val}\n                            </Typography>\n                          ))\n                        )\n                      ) : (\n                        <h2 style={{ marginTop: '80px' }}>\n                          {' '}\n                          <strong>Bem vindo ao Módulo de Espacialização</strong>\n                        </h2>\n                      )}\n                      {isLoadingMetadadoSelected ? (\n                        ''\n                      ) : (\n                        <CustomTable\n                          dados={createKeyAndValueObjects(\n                            metadadoSelectedCampos,\n                            'values'\n                          )}\n                          campos={createKeyAndValueObjects(\n                            metadadoSelectedCampos,\n                            'key'\n                          )}\n                          infoDados={info}\n                          updateDados={update}\n                          contentMaxHeight={350}\n                          customFilterCampos={customFilterCampos}\n                          customFilterDados={customFilterDados}\n                        />\n                      )}\n                    </Grid>\n                  </Grid>\n                </Grid>\n              </Grid>\n            </Paper>\n          </Grid>\n\n          <Grid item xs={6}>\n            <Paper className={classes.paper}>\n              <div className={classes.header} style={{ marginTop: '-35px' }}>\n                <h3>Conteúdo do Objeto</h3>\n              </div>\n              <Grid container spacing={2}>\n                <Grid\n                  item\n                  xs={12}\n                  sm\n                  container\n                  alignItems='center'\n                  justify='center'\n                >\n                  {isLoadingMetadadoSelected ? (\n                    loadingMessage\n                  ) : Object.values(metadadoSelectedCabecalho)[0] &&\n                    Object.values(metadadoSelectedCabecalho)[0][\n                      'D - Tipo da Tabela (mtt_tipo)'\n                    ] &&\n                    Object.values(metadadoSelectedCabecalho)[0][\n                      'D - Tipo da Tabela (mtt_tipo)'\n                    ] === 'convencional' ? (\n                    <CustomTable\n                      dados={createKeyAndValueObjects(\n                        metadadoSelectedDados,\n                        'values'\n                      )}\n                      campos={createKeyAndValueObjects(\n                        metadadoSelectedDados,\n                        'key'\n                      )}\n                      infoDados={info} /*excluirDados = {dialogRemove}*/\n                    />\n                  ) : (\n                    <Map\n                      metadado={Object.values(metadadoSelectedCabecalho)[0]}\n                    />\n                  )}\n                </Grid>\n              </Grid>\n            </Paper>\n          </Grid>\n        </Grid>\n      </div>\n    </>\n  )\n\n  return isLoading ? loadingMessage : content\n}\n\nconst mapStateToProps = (state) => ({\n  isLoading: getMetadadosTotalLoading(state),\n  metadados: getAllMetadadosTotal(state),\n  isLoadingMetadadoSelected: getMetadadoSelectedLoading(state),\n  metadadoSelectedCabecalho: getAllMetadadoSelectedCabecalho(state),\n  metadadoSelectedCampos: getAllMetadadoSelectedCampos(state),\n  metadadoSelectedDados: getAllMetadadoSelectedDados(state),\n  metadadoSelectedTabela: getAllMetadadoSelectedTabela(state),\n  metadadoSelectedMessage: getAllMetadadoSelectedMessage(state),\n  metadadoSelectedEditaveis: getAllMetadadoSelectedEditaveis(state),\n})\n\nconst mapDispatchToProps = (dispatch) => ({\n  onTabelaSelected: (mttTababela) => dispatch(loadDadoPorExtenso(mttTababela)),\n  onUpdatePressed: (id, json) => dispatch(updateMetadado(id, json)),\n  onSetMessagePressed: (message) => dispatch(setMessage(message)),\n  startLoadingMetadados: () => dispatch(loadMetadadosTotal()),\n})\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Metadados)\n"]},"metadata":{},"sourceType":"module"}