{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\BENEDICTO EDUARDO\\\\PycharmProjects\\\\geo\\\\src\\\\pages\\\\Metadados\\\\Exclusao\\\\index.js\";\nimport React, { useState, useEffect } from 'react';\nimport { Grid, Card, CardHeader, CardContent, Dialog, DialogTitle, DialogActions, Button, DialogContent, DialogContentText } from '@material-ui/core';\nimport { connect } from 'react-redux';\nimport Toast from '../../../components/Toast';\nimport * as Service from '../../../services/metadados.v2';\nimport Objetos from './Objetos';\nimport { Container } from './styles';\n\nfunction Exclusao() {\n  const [objeto, setObjeto] = useState({});\n  const [objetos, setObjetos] = useState([]);\n  const [dialogState, setDialogState] = useState(false);\n  const [toast, setToast] = useState({\n    open: false,\n    severity: 'success',\n    text: ''\n  });\n  useEffect(() => {\n    async function fetchObjetos() {\n      const response = await Service.fetchObjetoAptoExclusao();\n      setObjetos(response.cabecalho);\n    }\n\n    fetchObjetos();\n  }, []);\n\n  const handleCloseDialog = () => setDialogState(false);\n\n  const handleChange = async event => {\n    setObjeto({\n      mtt_tabela: event.target.value\n    });\n    setDialogState(true);\n  };\n\n  const handleDelete = async () => {\n    await Service.excluirObjeto(objeto.mtt_tabela);\n    setDialogState(false);\n    setToast({ ...toast,\n      open: true,\n      text: 'Objeto excluido!'\n    });\n  };\n\n  return /*#__PURE__*/React.createElement(Container, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Toast, {\n    open: toast.open,\n    handleClose: () => {\n      setToast({ ...toast,\n        open: false\n      });\n    },\n    severity: toast.severity,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 7\n    }\n  }, toast.text), /*#__PURE__*/React.createElement(Dialog, {\n    open: dialogState,\n    onClose: handleCloseDialog,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(DialogTitle, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 9\n    }\n  }, \"Confirma\\xE7\\xE3o\"), /*#__PURE__*/React.createElement(DialogContent, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(DialogContentText, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 11\n    }\n  }, \"Realmente deseja excluir o objeto selecionado?\")), /*#__PURE__*/React.createElement(DialogActions, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    onClick: handleCloseDialog,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 11\n    }\n  }, \"Cancelar\"), /*#__PURE__*/React.createElement(Button, {\n    onClick: handleDelete,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 11\n    }\n  }, \"Sim\"))), /*#__PURE__*/React.createElement(Grid, {\n    container: true,\n    spacing: 1,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    xs: 6,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Card, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(CardHeader, {\n    title: \"Exclus\\xE3o\",\n    style: {\n      background: '#1E74BB',\n      color: '#FFF'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(CardContent, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Objetos, {\n    data: objetos,\n    value: objeto,\n    onChange: handleChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 15\n    }\n  }))))));\n}\n\nexport default connect()(Exclusao);","map":{"version":3,"sources":["C:/Users/BENEDICTO EDUARDO/PycharmProjects/geo/src/pages/Metadados/Exclusao/index.js"],"names":["React","useState","useEffect","Grid","Card","CardHeader","CardContent","Dialog","DialogTitle","DialogActions","Button","DialogContent","DialogContentText","connect","Toast","Service","Objetos","Container","Exclusao","objeto","setObjeto","objetos","setObjetos","dialogState","setDialogState","toast","setToast","open","severity","text","fetchObjetos","response","fetchObjetoAptoExclusao","cabecalho","handleCloseDialog","handleChange","event","mtt_tabela","target","value","handleDelete","excluirObjeto","background","color"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react'\n\nimport {\n  Grid,\n  Card,\n  CardHeader,\n  CardContent,\n  Dialog,\n  DialogTitle,\n  DialogActions,\n  Button,\n  DialogContent,\n  DialogContentText,\n} from '@material-ui/core'\nimport { connect } from 'react-redux'\n\nimport Toast from '../../../components/Toast'\nimport * as Service from '../../../services/metadados.v2'\nimport Objetos from './Objetos'\nimport { Container } from './styles'\n\nfunction Exclusao() {\n  const [objeto, setObjeto] = useState({})\n  const [objetos, setObjetos] = useState([])\n  const [dialogState, setDialogState] = useState(false)\n  const [toast, setToast] = useState({\n    open: false,\n    severity: 'success',\n    text: '',\n  })\n\n  useEffect(() => {\n    async function fetchObjetos() {\n      const response = await Service.fetchObjetoAptoExclusao()\n      setObjetos(response.cabecalho)\n    }\n\n    fetchObjetos()\n  }, [])\n\n  const handleCloseDialog = () => setDialogState(false)\n\n  const handleChange = async (event) => {\n    setObjeto({ mtt_tabela: event.target.value })\n    setDialogState(true)\n  }\n\n  const handleDelete = async () => {\n    await Service.excluirObjeto(objeto.mtt_tabela)\n\n    setDialogState(false)\n    setToast({ ...toast, open: true, text: 'Objeto excluido!' })\n  }\n\n  return (\n    <Container>\n      <Toast\n        open={toast.open}\n        handleClose={() => {\n          setToast({ ...toast, open: false })\n        }}\n        severity={toast.severity}\n      >\n        {toast.text}\n      </Toast>\n      <Dialog open={dialogState} onClose={handleCloseDialog}>\n        <DialogTitle>Confirmação</DialogTitle>\n        <DialogContent>\n          <DialogContentText>\n            Realmente deseja excluir o objeto selecionado?\n          </DialogContentText>\n        </DialogContent>\n        <DialogActions>\n          <Button onClick={handleCloseDialog}>Cancelar</Button>\n          <Button onClick={handleDelete}>Sim</Button>\n        </DialogActions>\n      </Dialog>\n      <Grid container spacing={1}>\n        <Grid item xs={6}>\n          <Card>\n            <CardHeader\n              title='Exclusão'\n              style={{ background: '#1E74BB', color: '#FFF' }}\n            />\n            <CardContent>\n              <Objetos data={objetos} value={objeto} onChange={handleChange} />\n            </CardContent>\n          </Card>\n        </Grid>\n      </Grid>\n    </Container>\n  )\n}\n\nexport default connect()(Exclusao)\n"]},"metadata":{},"sourceType":"module"}